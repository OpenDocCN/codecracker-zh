# Java 线程模型

> 原文:[https://codescracker.com/java/java-thread-model.htm](https://codescracker.com/java/java-thread-model.htm)

Java 运行时系统在很多事情上都依赖于线程，所有类库的设计都考虑到了多线程。事实上，Java 使用线程来实现整个环境的异步。这有助于通过防止 CPU 周期的浪费来降低效率。

多线程环境的价值与它的对应物相比最容易理解。

单线程系统使用一种叫做*事件循环*和*轮询*的方法。在这个模型中，单个控制线程在无限循环中运行，轮询单个事件队列以决定下一步做什么。一旦这个轮询机制返回，比如说，一个网络文件 准备好被读取，那么事件循环将控制分派给适当的事件处理程序。在这个事件处理程序返回之前，程序中不会发生任何事情。这浪费了 CPU 时间。它还会导致程序的一部分控制系统，阻止任何其他 事件被处理。一般来说，在单线程环境中，当一个线程*因为 正在等待某个资源而阻塞*(即暂停执行)时，整个程序停止运行。

Java 多线程的好处是消除了主循环/轮询机制。一个线程可以暂停而不停止程序的其他部分。例如，线程从网络读取数据或等待用户输入时产生的空闲时间可以在其他地方使用。多线程允许动画循环在每帧之间休眠一秒钟，而不会导致整个系统暂停。当一个线程在 Java 程序中阻塞时，只有被阻塞的那个线程会暂停。所有其他线程继续运行。

正如大多数读者所知，在过去几年中，多核系统已经变得很普遍。当然，单核系统仍在广泛使用。理解 Java 的多线程特性在这两种类型的系统中都有效是很重要的。在单核系统中，并发执行的线程共享 CPU，每个线程接收一段 CPU 时间。因此，在单核系统中，两个或多个线程实际上并不同时运行，而是利用空闲的 CPU 时间。然而，在多核系统中，两个或更多线程实际上可能同时执行。在许多情况下，这可以进一步提高程序效率，并增加某些操作的速度。

线程可能正在运行。一旦获得 CPU 时间，它就可以准备好运行。正在运行的线程可以被挂起，这将暂时停止它的活动。然后，挂起的线程可以被恢复，允许它从停止的地方重新开始。线程在等待资源时可能会被阻塞。在任何时候，线程都可以被终止，这将立即停止它的执行。一旦终止，线程就不能恢复。

## Java 消息传递系统

将程序分成单独的线程后，您需要定义它们如何相互通信。

当使用其他语言编程时，必须依赖操作系统来建立线程间的通信。这当然会增加开销。相比之下，Java 通过调用所有对象都有的预定义方法，为两个或多个线程相互通信提供了一种干净、低成本的方式。Java 的消息传递系统允许一个线程进入一个对象的同步方法，然后在那里等待，直到其他线程明确地通知它出来。

## Java 线程类和可运行接口

Java 的多线程系统是建立在**线程**类、它的方法和它的配套接口 **Runnable** 之上的。**线程** 封装了一个执行的线程。由于您不能直接引用正在运行的线程的飘渺状态，您将通过它的 代理，即产生它的**线程**实例来处理它。要创建一个新线程，你的程序要么扩展**线程**要么实现 **可运行**接口。

**Thread** 类定义了几个帮助管理线程的方法。下表显示了一些重要的方法:

| 方法 | 意义 |
| getName() | 获取线程的名称 |
| getPriority() | 获取线程的优先级 |
| isalive() | 确定线程是否仍在运行 |
| 加入() | 等待线程终止 |
| 运行() | 线程的入口点 |
| 睡眠() | 将线程暂停一段时间 |
| 开始() | 通过调用线程的 run 方法来启动线程 |

[Java 在线测试](/exam/showtest.php?subid=1)

* * *

* * *